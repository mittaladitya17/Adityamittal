<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Aditya Mittal — Data Scientist / ML Engineer portfolio" />
  <title>Aditya Mittal — Portfolio</title>

  <style>
    :root{
      --bg:#ffffff;
      --fg:#0a0a0a;
      --muted:#575757;
      --border:#e6e6e6;
      --card:#ffffff;
      --ring: rgba(0,0,0,.18);
      --shadow: 0 10px 24px rgba(0,0,0,.08);
      --shadowHover: 0 18px 40px rgba(0,0,0,.12);
    }
    html.dark{
      --bg:#0a0a0a;
      --fg:#f5f5f5;
      --muted:#b5b5b5;
      --border:#262626;
      --card:#0f0f0f;
      --ring: rgba(255,255,255,.18);
      --shadow: 0 16px 40px rgba(0,0,0,.55);
      --shadowHover: 0 22px 56px rgba(0,0,0,.65);
    }

    *{ box-sizing:border-box }
    html,body{ height:100% }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:var(--bg);
      color:var(--fg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }

    a{ color:inherit; text-decoration:none }
    button{ font:inherit; color:inherit; background:none; border:0; cursor:pointer }

    /* Subtle cursor spotlight */
    .spotlight{
      position: fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
      background:
        radial-gradient(600px circle at var(--x, 50%) var(--y, 30%),
          rgba(0,0,0,.07), transparent 60%);
      transition: background .15s linear;
    }
    html.dark .spotlight{
      background:
        radial-gradient(650px circle at var(--x, 50%) var(--y, 30%),
          rgba(255,255,255,.07), transparent 62%);
    }

    /* Tiny grain (monochrome) */
    .grain{
      position:fixed;
      inset:0;
      z-index:0;
      pointer-events:none;
      opacity:.06;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.45'/%3E%3C/svg%3E");
      mix-blend-mode: multiply;
    }
    html.dark .grain{ mix-blend-mode: screen; opacity:.05; }

    /* Scroll progress bar */
    .progress{
      position: fixed;
      top:0;
      left:0;
      height:3px;
      width:0%;
      background: var(--fg);
      z-index: 50;
      transform-origin:left;
    }

    .wrap{ position:relative; z-index:1; }
    .container{ max-width:1120px; margin:0 auto; padding: 24px 18px 90px; }

    /* Top bar */
    .topbar{
      position: sticky;
      top:0;
      z-index:10;
      backdrop-filter: blur(10px);
      background: color-mix(in srgb, var(--bg) 78%, transparent);
      border-bottom:1px solid var(--border);
    }
    .topbar-inner{
      max-width:1120px;
      margin:0 auto;
      padding: 14px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{
      display:flex; flex-direction:column; gap:2px;
      line-height:1.1;
    }
    .brand small{ color:var(--muted); font-size:12px; letter-spacing:.2px }
    .brand strong{ font-size:16px }

    .nav{
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .nav a{
      padding:8px 10px;
      border-radius:12px;
      color:var(--muted);
      transition: background .2s ease, color .2s ease;
    }
    .nav a:hover{
      background: color-mix(in srgb, var(--fg) 6%, transparent);
      color: var(--fg);
    }
    .iconbtn{
      width:38px;height:38px;
      border-radius:14px;
      border:1px solid var(--border);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      transition: transform .2s ease, background .2s ease;
      background: color-mix(in srgb, var(--bg) 70%, transparent);
    }
    .iconbtn:hover{ transform: translateY(-1px); background: color-mix(in srgb, var(--fg) 6%, transparent); }

    /* Hero */
    .hero{
      padding: 34px 0 10px;
      display:grid;
      grid-template-columns: 1.3fr .7fr;
      gap: 18px;
      align-items:start;
    }
    @media (max-width: 960px){ .hero{ grid-template-columns: 1fr; } }

    .hero h1{
      margin:0;
      font-size: clamp(30px, 4.8vw, 46px);
      letter-spacing: -0.03em;
      line-height:1.06;
    }
    .hero p{
      margin: 14px 0 0;
      max-width: 720px;
      color: var(--muted);
      line-height: 1.65;
      font-size: 16px;
    }
    .cta{
      margin-top: 18px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 10px 14px;
      border-radius: 14px;
      border:1px solid var(--border);
      background: var(--card);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
      box-shadow: 0 1px 0 rgba(0,0,0,.04);
      font-weight:650;
      font-size:14px;
    }
    html.dark .btn{ box-shadow:none; }
    .btn.primary{
      background: var(--fg);
      color: var(--bg);
      border-color: transparent;
    }
    .btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow); }
    .btn:focus{ outline:none; box-shadow: 0 0 0 4px var(--ring), var(--shadow); }

    /* Stat card */
    .statcard{
      border:1px solid var(--border);
      border-radius: 20px;
      background: color-mix(in srgb, var(--card) 92%, transparent);
      padding: 16px;
      box-shadow: 0 1px 0 rgba(0,0,0,.04);
    }
    html.dark .statcard{ box-shadow:none; }
    .statgrid{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    .stat{
      border:1px solid var(--border);
      border-radius: 16px;
      padding: 12px;
      background: var(--card);
    }
    .stat strong{ display:block; font-size: 18px; letter-spacing:-0.02em; }
    .stat small{ color: var(--muted); }

    /* Sections */
    .section{ margin-top: 44px; scroll-margin-top: 90px; }
    .section-head{ display:flex; flex-direction:column; gap: 6px; margin-bottom: 14px; }
    .kicker{
      text-transform: uppercase;
      letter-spacing:.14em;
      font-size: 12px;
      color: var(--muted);
    }
    .section h2{ margin:0; font-size: 22px; letter-spacing:-0.01em; }

    /* Filters */
    .filters{ display:flex; gap:8px; flex-wrap:wrap; margin: 6px 0 14px; }
    .chip{
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid var(--border);
      background: var(--card);
      color: var(--muted);
      font-size: 13px;
      transition: background .2s ease, color .2s ease, transform .2s ease;
    }
    .chip:hover{ transform: translateY(-1px); color: var(--fg); }
    .chip.active{
      background: var(--fg);
      color: var(--bg);
      border-color: transparent;
    }

    /* Cards */
    .grid{ display:grid; gap:14px; }
    .grid.two{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    @media (max-width: 860px){ .grid.two{ grid-template-columns: 1fr; } }

    .card{
      border: 1px solid var(--border);
      border-radius: 20px;
      background: var(--card);
      padding: 16px;
      transition: transform .22s ease, box-shadow .22s ease, background .22s ease;
      will-change: transform;
      position:relative;
      overflow:hidden;
    }
    .card::after{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(500px circle at 20% 0%, rgba(255,255,255,.14), transparent 45%);
      opacity: 0;
      transition: opacity .25s ease;
      pointer-events:none;
    }
    html.dark .card::after{
      background: radial-gradient(500px circle at 20% 0%, rgba(255,255,255,.10), transparent 45%);
    }
    .card:hover{ transform: translateY(-3px); box-shadow: var(--shadowHover); }
    .card:hover::after{ opacity: 1; }

    .card h3{ margin:0; font-size: 16px; letter-spacing:-0.01em; }
    .card .meta{ margin-top:6px; color:var(--muted); font-size:12px; }
    .card p{ margin:10px 0 0; color:var(--muted); line-height:1.55; font-size: 14px; }

    .pills{ margin-top: 12px; display:flex; gap:8px; flex-wrap:wrap; }
    .pill{
      border:1px solid var(--border);
      border-radius:999px;
      padding: 6px 10px;
      font-size: 12px;
      color: var(--muted);
    }

    .list{ margin: 10px 0 0; padding: 0; list-style: none; }
    .list li{
      display:flex; gap:10px;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.55;
      padding: 6px 0;
    }
    .dot{
      width:6px;height:6px;border-radius:999px;
      background: color-mix(in srgb, var(--muted) 60%, transparent);
      margin-top: 8px;
      flex:none;
    }

    /* Reveal */
    .reveal{ opacity:0; transform: translateY(10px); transition: opacity .5s ease, transform .5s ease; }
    .reveal.in{ opacity:1; transform: translateY(0); }

    /* Modal */
    .overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.58);
      display:none;
      align-items:flex-end;
      justify-content:center;
      padding: 18px;
      z-index: 100;
    }
    .overlay.open{ display:flex; }
    @media (min-width: 640px){ .overlay{ align-items:center; } }

    .modal{
      width: 100%;
      max-width: 860px;
      background: var(--bg);
      border:1px solid var(--border);
      border-radius: 22px;
      box-shadow: var(--shadowHover);
      transform: translateY(12px) scale(.99);
      opacity:0;
      transition: transform .2s ease, opacity .2s ease;
      overflow:hidden;
    }
    .overlay.open .modal{ transform: translateY(0) scale(1); opacity:1; }
    .modal-head{
      padding: 16px;
      border-bottom: 1px solid var(--border);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }
    .modal-head h3{ margin:0; font-size: 16px; }
    .modal-body{ padding: 16px; }
    .modal-close{
      width:36px;height:36px;border-radius: 14px;
      border:1px solid var(--border);
      display:inline-flex; align-items:center; justify-content:center;
    }
    .modal-close:hover{ background: color-mix(in srgb, var(--fg) 6%, transparent); }

    footer{
      margin-top: 56px;
      border-top:1px solid var(--border);
      padding-top: 18px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      justify-content: space-between;
      color: var(--muted);
      font-size: 13px;
    }

    /* inline icons */
    .ico{ width:16px;height:16px; display:inline-block; vertical-align:-3px; }
    .ico svg{ width:16px;height:16px; fill:none; stroke:currentColor; stroke-width:2; stroke-linecap:round; stroke-linejoin:round; }
  </style>
</head>

<body>
  <div class="progress" id="progress"></div>
  <div class="spotlight" id="spotlight"></div>
  <div class="grain"></div>

  <div class="wrap">
    <div class="topbar">
      <div class="topbar-inner">
        <div class="brand">
          <small>East Lansing, MI</small>
          <strong>Aditya Mittal</strong>
        </div>
        <div class="nav">
          <a href="#experience">Experience</a>
          <a href="#projects">Projects</a>
          <a href="#education">Education</a>
          <a href="#contact">Contact</a>
          <button id="themeBtn" class="iconbtn" aria-label="Toggle theme" title="Toggle theme"></button>
        </div>
      </div>
    </div>

    <div class="container">
      <section class="hero reveal">
        <div>
          <h1>Data Scientist • ML Engineer</h1>
          <p>
            I build ML systems that turn messy data into confident decisions — from credit risk scoring to real-time
            computer vision.
          </p>

          <div class="cta">
            <a class="btn primary" href="https://linkedin.com/in/aditya-mittal-510798217/" target="_blank" rel="noreferrer">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4V9h4v2a4 4 0 0 1 2-3z"/><path d="M2 9h4v12H2z"/><path d="M4 4a2 2 0 1 0 0.001 4.001A2 2 0 0 0 4 4z"/></svg>
              </span>
              LinkedIn
            </a>

            <a class="btn" href="https://github.com/mittaladitya17" target="_blank" rel="noreferrer">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M9 19c-4 1.5-4-2.5-6-3m12 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 18 3.77 5.07 5.07 0 0 0 17.91 1S16.73.65 14 2.48a13.38 13.38 0 0 0-5 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 3.77 5.44 5.44 0 0 0 3.5 7.52c0 5.42 3.3 6.61 6.44 6.97A3.37 3.37 0 0 0 9 18.13V22"/></svg>
              </span>
              GitHub
            </a>

            <!-- FIXED: your repo already has aditya_mittal.pdf -->
            <a class="btn" href="./aditya_mittal.pdf" target="_blank" rel="noreferrer">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><path d="M7 10l5 5 5-5"/><path d="M12 15V3"/></svg>
              </span>
              Resume
            </a>

            <button id="copyEmail" class="btn" type="button">Copy email</button>
          </div>
        </div>

        <aside class="statcard">
          <div class="kicker">Quick snapshot</div>
          <div class="statgrid" style="margin-top:12px;">
            <div class="stat">
              <strong>4</strong>
              <small>Projects</small>
            </div>
            <div class="stat">
              <strong>2</strong>
              <small>Industry roles</small>
            </div>
            <div class="stat">
              <strong>MS</strong>
              <small>Data Science @ MSU</small>
            </div>
            <div class="stat">
              <strong>Focus</strong>
              <small>Risk + CV</small>
            </div>
          </div>
        </aside>
      </section>

      <section id="experience" class="section reveal">
        <div class="section-head">
          <div class="kicker">Work</div>
          <h2>Experience</h2>
        </div>

        <div class="grid">
          <div class="card">
            <h3>Data Scientist · <span style="color:var(--muted)">Aavas Financiers Ltd.</span></h3>
            <div class="meta">Jul 2024 — Jan 2025</div>
            <ul class="list">
              <li><span class="dot"></span><span>Built a churn prediction model using large bureau datasets to reduce customer attrition.</span></li>
              <li><span class="dot"></span><span>Designed a scoring system to evaluate branch performance across locations.</span></li>
              <li><span class="dot"></span><span>Performed customer profiling to identify high-potential branch locations.</span></li>
            </ul>
          </div>

          <div class="card">
            <h3>Data Analysis Research Intern · <span style="color:var(--muted)">MNIT Jaipur</span></h3>
            <div class="meta">Jun 2023 — Sept 2023</div>
            <ul class="list">
              <li><span class="dot"></span><span>Developed an ML pipeline to detect fraudulent credit card transactions.</span></li>
              <li><span class="dot"></span><span>Used SMOTE to address class imbalance and improve performance.</span></li>
              <li><span class="dot"></span><span>Improved accuracy with testing and hyperparameter tuning.</span></li>
            </ul>
          </div>
        </div>
      </section>

      <section id="projects" class="section reveal">
        <div class="section-head">
          <div class="kicker">Selected work</div>
          <h2>Projects</h2>
        </div>

        <div class="filters" id="filters"></div>
        <div class="grid two" id="projectsGrid"></div>
      </section>

      <section id="education" class="section reveal">
        <div class="section-head">
          <div class="kicker">Academics</div>
          <h2>Education</h2>
        </div>

        <div class="grid two">
          <div class="card">
            <h3>Michigan State University</h3>
            <div class="meta">MS, Data Science (GPA 4.0/4.0)</div>
            <p>Aug 2025 — May 2027</p>
          </div>
          <div class="card">
            <h3>SRM University, KTR</h3>
            <div class="meta">BTech, Computer Science and Engineering (GPA 3.58/4.0)</div>
            <p>Oct 2020 — May 2024</p>
          </div>
        </div>
      </section>

      <section id="contact" class="section reveal">
        <div class="section-head">
          <div class="kicker">Reach out</div>
          <h2>Contact</h2>
        </div>

        <div class="card">
          <div class="grid two">
            <div>
              <div class="kicker" style="margin-bottom:6px;">Email</div>
              <div style="font-weight:750;">mittal.aditya1702@gmail.com</div>
              <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
                <a class="btn primary" href="mailto:mittal.aditya1702@gmail.com">Email</a>
                <button class="btn" type="button" id="copyEmail2">Copy</button>
              </div>
            </div>

            <div>
              <div class="kicker" style="margin-bottom:6px;">Phone</div>
              <div style="font-weight:750;">+1 (973) 390-3970</div>
              <p style="margin-top:10px;">Prefer LinkedIn DMs for first contact.</p>
            </div>
          </div>
        </div>
      </section>

      <footer>
        <div>Black & white portfolio · Static HTML · GitHub Pages</div>
        <div style="display:flex; gap:14px;">
          <a href="https://linkedin.com/in/aditya-mittal-510798217/" target="_blank" rel="noreferrer">LinkedIn</a>
          <a href="https://github.com/mittaladitya17" target="_blank" rel="noreferrer">GitHub</a>
        </div>
      </footer>
    </div>

    <!-- Modal -->
    <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modal">
        <div class="modal-head">
          <div>
            <h3 id="modalTitle">Project</h3>
            <div class="meta" id="modalWhen"></div>
          </div>
          <button class="modal-close" id="modalClose" aria-label="Close">
            <span class="ico" aria-hidden="true">
              <svg viewBox="0 0 24 24"><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg>
            </span>
          </button>
        </div>
        <div class="modal-body">
          <p id="modalDesc" style="margin:0; color:var(--muted); line-height:1.6;"></p>
          <div id="modalTags" class="pills" style="margin-top:14px;"></div>
          <div id="modalLinks" class="cta" style="margin-top:16px;"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ------------ Data ------------
    const EMAIL = "mittal.aditya1702@gmail.com";

    const PROJECTS = [
      {
        title: "Credit Risk Prediction Dashboard",
        when: "Sept 2025 — Dec 2025",
        tags: ["Streamlit","ML","SHAP","Risk Scoring"],
        description: "Interactive dashboard for loan default prediction with explainability and scoring workflow.",
        links: [
          { label: "Open Live App", href: "https://cmse830fds-fuehcducufgvfzk3dtx5jq.streamlit.app/" }
        ]
      },
      {
        title: "Human Pose Tracking & Detection",
        when: "Dec 2023 — May 2024",
        tags: ["CV","OpenCV","MediaPipe","Real-time"],
        description: "Real-time pose detection & tracking to drive interactive UI/game controls with low latency.",
        links: []
      },
      {
        title: "Virtual 3D Glasses Face Trial",
        when: "Sept 2023 — Dec 2023",
        tags: ["CV","OpenCV","AR","AAM"],
        description: "Virtual try-on for eyeglasses using facial landmarking and stable rendering.",
        links: []
      },
      {
        title: "Pneumonia Detection using AI",
        when: "Feb 2023 — May 2023",
        tags: ["ML","CNN","Transfer Learning","Deployment"],
        description: "Pneumonia classifier on chest X-rays using transfer learning and fine-tuning, deployed to users.",
        links: []
      }
    ];

    // ------------ Theme ------------
    const THEME_KEY = "am_theme";
    function setTheme(isDark){
      document.documentElement.classList.toggle("dark", isDark);
      localStorage.setItem(THEME_KEY, JSON.stringify(!!isDark));
      renderThemeIcon();
    }
    function getTheme(){
      try{
        const saved = JSON.parse(localStorage.getItem(THEME_KEY));
        if (typeof saved === "boolean") return saved;
      }catch(e){}
      return true; // default dark
    }
    function renderThemeIcon(){
      const btn = document.getElementById("themeBtn");
      const isDark = document.documentElement.classList.contains("dark");
      btn.innerHTML = isDark
        ? '<span class="ico" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 3v2"/><path d="M12 19v2"/><path d="M5 5l1.5 1.5"/><path d="M17.5 17.5 19 19"/><path d="M3 12h2"/><path d="M19 12h2"/><path d="M5 19l1.5-1.5"/><path d="M17.5 6.5 19 5"/><path d="M12 7a5 5 0 1 0 0.001 10.001A5 5 0 0 0 12 7z"/></svg></span>'
        : '<span class="ico" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg></span>';
      btn.title = isDark ? "Switch to light" : "Switch to dark";
    }

    // ------------ Filters + render projects ------------
    const projectsGrid = document.getElementById("projectsGrid");
    const filtersEl = document.getElementById("filters");

    function el(tag, cls){
      const n = document.createElement(tag);
      if (cls) n.className = cls;
      return n;
    }

    const FILTERS = ["All", "ML", "CV", "Streamlit"];
    let activeFilter = "All";

    function renderFilters(){
      filtersEl.innerHTML = "";
      FILTERS.forEach(name => {
        const b = el("button", "chip" + (name === activeFilter ? " active" : ""));
        b.type = "button";
        b.textContent = name;
        b.addEventListener("click", () => {
          activeFilter = name;
          renderFilters();
          renderProjects();
        });
        filtersEl.appendChild(b);
      });
    }

    function passesFilter(p){
      if (activeFilter === "All") return true;
      return (p.tags || []).some(t => (t || "").toLowerCase() === activeFilter.toLowerCase());
    }

    function renderProjects(){
      projectsGrid.innerHTML = "";
      PROJECTS.filter(passesFilter).forEach((p, idx) => {
        const btn = el("button");
        btn.type = "button";
        btn.style.textAlign = "left";
        btn.style.width = "100%";

        const card = el("div", "card");

        const top = el("div");
        top.style.display = "flex";
        top.style.alignItems = "flex-start";
        top.style.justifyContent = "space-between";
        top.style.gap = "12px";

        const h = el("h3");
        h.textContent = p.title;

        const when = el("div", "meta");
        when.textContent = p.when;

        top.appendChild(h);
        top.appendChild(when);

        const desc = el("p");
        desc.textContent = p.description;

        const pills = el("div", "pills");
        (p.tags || []).slice(0, 5).forEach(t => {
          const pi = el("span", "pill");
          pi.textContent = t;
          pills.appendChild(pi);
        });

        card.appendChild(top);
        card.appendChild(desc);
        card.appendChild(pills);

        btn.appendChild(card);
        btn.addEventListener("click", () => openModal(p));
        projectsGrid.appendChild(btn);
      });
    }

    // ------------ Modal ------------
    const overlay = document.getElementById("overlay");
    const modalTitle = document.getElementById("modalTitle");
    const modalWhen = document.getElementById("modalWhen");
    const modalDesc = document.getElementById("modalDesc");
    const modalTags = document.getElementById("modalTags");
    const modalLinks = document.getElementById("modalLinks");

    function openModal(p){
      modalTitle.textContent = p.title;
      modalWhen.textContent = p.when;
      modalDesc.textContent = p.description;

      modalTags.innerHTML = "";
      (p.tags || []).forEach(t => {
        const pi = el("span", "pill");
        pi.textContent = t;
        modalTags.appendChild(pi);
      });

      modalLinks.innerHTML = "";
      (p.links || []).forEach(l => {
        const a = el("a", "btn primary");
        a.href = l.href;
        a.target = "_blank";
        a.rel = "noreferrer";
        a.textContent = l.label;
        modalLinks.appendChild(a);
      });

      overlay.classList.add("open");
      overlay.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    function closeModal(){
      overlay.classList.remove("open");
      overlay.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    }

    document.getElementById("modalClose").addEventListener("click", closeModal);
    overlay.addEventListener("click", (e) => { if (e.target === overlay) closeModal(); });
    window.addEventListener("keydown", (e) => { if (e.key === "Escape") closeModal(); });

    // ------------ Copy email ------------
    async function copyEmail(){
      try{
        await navigator.clipboard.writeText(EMAIL);
        toast("Email copied");
      }catch(e){
        prompt("Copy email:", EMAIL);
      }
    }
    document.getElementById("copyEmail").addEventListener("click", copyEmail);
    document.getElementById("copyEmail2").addEventListener("click", copyEmail);

    // ------------ Toast ------------
    let toastTimer = null;
    function toast(msg){
      let t = document.getElementById("toast");
      if (!t){
        t = document.createElement("div");
        t.id = "toast";
        t.style.position = "fixed";
        t.style.left = "50%";
        t.style.bottom = "18px";
        t.style.transform = "translateX(-50%)";
        t.style.padding = "10px 12px";
        t.style.borderRadius = "14px";
        t.style.border = "1px solid var(--border)";
        t.style.background = "var(--bg)";
        t.style.color = "var(--fg)";
        t.style.boxShadow = "var(--shadow)";
        t.style.zIndex = "999";
        t.style.fontSize = "13px";
        document.body.appendChild(t);
      }
      t.textContent = msg;
      t.style.opacity = "1";
      if (toastTimer) clearTimeout(toastTimer);
      toastTimer = setTimeout(() => { t.style.opacity = "0"; }, 1400);
    }

    // ------------ Reveal on scroll ------------
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add("in"); });
    }, { threshold: 0.12 });
    document.querySelectorAll(".reveal").forEach(n => observer.observe(n));

    // ------------ Spotlight follows cursor ------------
    const spot = document.getElementById("spotlight");
    window.addEventListener("mousemove", (e) => {
      spot.style.setProperty("--x", e.clientX + "px");
      spot.style.setProperty("--y", e.clientY + "px");
    }, { passive:true });

    // ------------ Scroll progress ------------
    const progress = document.getElementById("progress");
    window.addEventListener("scroll", () => {
      const h = document.documentElement;
      const sc = h.scrollTop;
      const max = h.scrollHeight - h.clientHeight;
      const pct = max > 0 ? (sc / max) * 100 : 0;
      progress.style.width = pct + "%";
    }, { passive:true });

    // ------------ Theme boot ------------
    setTheme(getTheme());
    document.getElementById("themeBtn").addEventListener("click", () => {
      setTheme(!document.documentElement.classList.contains("dark"));
    });

    // ------------ Render boot ------------
    renderFilters();
    renderProjects();
  </script>
</body>
</html>
